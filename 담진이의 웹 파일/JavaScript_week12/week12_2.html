<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이벤트 핸들러 연습1</title>
    <style>
        div {
            text-align : center;
        }
        .icon {
            width : 50px;
            height : 50px;
            margin : 10px;
        }
    </style>
    <script>
        //----------------------------------------------------
        function lastToken(str, cutter="/") {
            let tokens = str.split(cutter);
            return decodeURI(tokens[tokens.length-1]);
        }
        //----------------------------------------------------
        // mainImage의 default src값
        let defaultImage = "image/그림1.png";
        //----------------------------------------------------
        // 아이콘 이미지의 속성 src 값을 main iamge의 src에 복사한다.
        function changeMainImage() { // 마우스 오버일 때 메인이미지를 현재 아이콘의 src로 바꾼다
            // mainImage 객체를 가져온다
            let mi = document.getElementById("mainImage");
            // mainImage의 src 속성값을 현재 icon image의 src값으로 대체한다.
            mi.setAttribute("src", this.src);
            //
            document.getElementById("fileName").innerHTML = lastToken(this.src);
        }
        function recoverMainImage() { //마우스 아웃일 때 다시 메인이미지로 덮는다
            // mainImage 객체를 가져온다
            let mi = document.getElementById("mainImage");
            // mainImage의 src 속성값을 현재 icon image의 src값으로 대체한다.
            mi.setAttribute("src", defaultImage); 
        }
        function changeDefaultImage() {
            defaultImage = this.src; //기본메인 이미지를 클릭으로 바꾼다
        }
        //-------------------------------------------
        window.onload = function() {
            // icon class 이미지 객체들의 mouseoever 이벤트 핸들러를 연결한다.
            let icons = document.getElementsByClassName("icon");
            for(let item of icons) {
                item.addEventListener("mouseover", changeMainImage);
                item.addEventListener("mouseout", recoverMainImage);
                item.addEventListener("click", changeDefaultImage);
            }
        }
    </script>
</head>
<body>
    <h1>Image Browser</h1>
    <div>
        <img id="mainImage" src="image/그림1.png" alt="">
        <span id="fileName">파일명</span>
    </div>
    <hr>
    <div>
        <img class="icon" src="image/그림1.png" alt="">
        <img class="icon" src="image/그림2.png" alt="">
        <img class="icon" src="image/그림3.png" alt="">
        <img class="icon" src="image/그림4.png" alt="">
        <img class="icon" src="image/그림5.png" alt="">
    </div>
    
</body>
</html>